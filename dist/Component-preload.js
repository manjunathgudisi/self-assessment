//@ui5-bundle easelfassessment/Component-preload.js
sap.ui.require.preload({
	"easelfassessment/Component.js":function(){
sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","easelfassessment/model/models"],function(e,t,i){"use strict";return e.extend("easelfassessment.Component",{metadata:{manifest:"json"},init:function(){e.prototype.init.apply(this,arguments);this.getRouter().initialize();this.setModel(i.createDeviceModel(),"device")}})});
},
	"easelfassessment/controller/App.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller"],function(e){"use strict";return e.extend("easelfassessment.controller.App",{onInit:function(){}})});
},
	"easelfassessment/controller/EASelfAssessmentForm.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/IconTabFilter","sap/m/Label","sap/m/RadioButtonGroup","sap/m/RadioButton","sap/m/MessageBox","sap/m/MessageToast","sap/m/MultiComboBox","sap/ui/core/Item","sap/ui/model/json/JSONModel"],function(e,t,s,n,o,i,r,l,a,c){"use strict";return e.extend("easelfassessment.controller.EASelfAssessmentForm",{onInit:function(){this.selectedSkills=[];this._loadData()},_loadData:function(){const e=this.getOwnerComponent().getModel("datamodel");e.setSizeLimit(500);this.getView().setModel(e);e.bindList("/Skills").requestContexts().then(e=>{const t=e.map(e=>e.getObject());this._createIconTabBar(t)}).catch(e=>{i.error("Failed to fetch data: "+e.message)})},_createIconTabBar:function(e){const i=this._groupBySkillType(e);const c=this.byId("idIconTabBar");c.removeAllItems();c.addStyleClass("sapUiSmallMargin");for(let e in i){const m=i[e];const d=new t({text:e,key:e});m.forEach(e=>{const t=new s({text:e.skillDescription}).addStyleClass("sapUiSizeCompact");const i=new n({columns:5,valueState:"Warning",select:this._onRadioButtonSelect.bind(this,e.skillDescription)});i.addButton(new o({text:"Beginner",customData:{key:"level",value:"1"}}));i.addButton(new o({text:"Intermediate",customData:{key:"level",value:"2"}}));i.addButton(new o({text:"Expert",customData:{key:"level",value:"3"}})).addStyleClass("sapUiSmallMargin");d.addContent(t);d.addContent(i)});if(e==="Enterprise Architecture"){const e=new l({placeholder:"Select up to 3 skills",maxWidth:"100%",selectionChange:function(e){const t=e.getSource().getSelectedItems();if(t.length>3){const s=e.getParameter("changedItem");e.getSource().setSelectedItems(t.filter(e=>e!==s));r.show("You can only select up to 3 skills")}},items:m.map(e=>new a({key:e.ID,text:e.skillDescription}))});const t=new s({text:"Please choose top 3 Enterprise Architecture (EA) skills that you want to discuss with your manager for your career development."});t.addStyleClass("sapUiTinyMarginTop");d.addContent(t);d.addContent(e)}c.addItem(d)}},_groupBySkillType:function(e){return e.reduce((e,t)=>{(e[t.skillType]=e[t.skillType]||[]).push(t);return e},{})},_onRadioButtonSelect:function(e,t){const s=t.getSource();const n=s.getSelectedIndex();const o=n+1;const i=this.selectedSkills.findIndex(t=>t.skills===e);if(i!==-1){this.selectedSkills[i].level=o}else{this.selectedSkills.push({skills:e,level:o})}console.log("Current selections:",this.selectedSkills)},_getEaIdAndSubmitSkills:function(e){const t=this.getView().getModel("datamodel");const s=t.bindList("/EAs",null,null,[new sap.ui.model.Filter("empId","EQ",e)]);return s.requestContexts().then(t=>{if(t.length===0){throw new Error("No EA found with Employee ID: "+e)}return t[0].getObject().ID})},onSubmit:function(){const e=this.getView().byId("employeeIDInput").getValue();const t=this.getView().byId("employeeSurname").getValue();const s=this.getView().byId("employeeRegion").getValue();const n=this.getView().byId("employeeEmailt").getValue();const o=this.getView().byId("employeeCountryt").getValue();if(!e||!t||!s){i.error("Please fill in all required fields");return}if(this.selectedSkills.length===0){i.error("Please select at least one skill level");return}i.confirm("Are you sure you want to submit the assessment?",{onClose:e=>{if(e===i.Action.OK){this._submitAssessmentWithDeepInsert()}}})},_submitAssessmentWithDeepInsert:async function(){try{sap.ui.core.BusyIndicator.show(0);const e=this.getView().getModel("datamodel");const t=this._getTableData();const s=[];const n=t.map(e=>{const t={CustomerName:e.customerName,CRMId:e.cRMID,isActive:e.isActiveEngagement,isLead:e.requireShadowing,leadEA:e.shadowEA,comment:e.comment};s.push(t)});const o=this.byId("idIconTabBar");const r=o.getItems().find(e=>e.getText()==="Enterprise Architecture");const a=[];if(r){const e=r.getContent().find(e=>e instanceof l);if(e){const t=e.getSelectedItems();const s=t.map(e=>{const t={skills:e.getText()};a.push(t)})}}const c=[];const m=this.selectedSkills.map(e=>{const t={level:e.level,skills:e.skills};c.push(t)});const d={empId:this.getView().byId("employeeIDInput").getValue(),name:this.getView().byId("employeeSurname").getValue(),region:this.getView().byId("employeeRegion").getValue(),email:this.getView().byId("employeeEmailt").getValue(),country:this.getView().byId("employeeCountryt").getValue(),assignments:s,development:a,experience:c};await this._createEA(e,d);sap.ui.core.BusyIndicator.hide();i.success("Assessment submitted successfully!",{onClose:()=>{this._resetForm()}})}catch(e){sap.ui.core.BusyIndicator.hide();console.error("Submission error:",e);i.error("Error submitting assessment: "+(e.message||"Unknown error occurred"))}},_submitAssessment:async function(){try{sap.ui.core.BusyIndicator.show(0);const e=this.getView().getModel("datamodel");const t={empId:this.getView().byId("employeeIDInput").getValue(),name:this.getView().byId("employeeSurname").getValue(),region:this.getView().byId("employeeRegion").getValue(),email:this.getView().byId("employeeEmailt").getValue(),country:this.getView().byId("employeeCountryt").getValue()};await this._createEA(e,t);const s=await this._getEAIdByEmployeeDetails(e,t);console.log("EA ID obtained:",s);const n=this._getTableData();if(n.length>0){await this._createAssignments(e,s,n);console.log("Assignments created successfully")}if(this.selectedSkills.length>0){await this._createSkills(e,s);console.log("Skills created successfully")}const o=this.byId("idIconTabBar");const r=o.getItems().find(e=>e.getText()==="Enterprise Architecture");if(r){const t=r.getContent().find(e=>e instanceof l);if(t){await this._createSkillDevelopment(e,s,t.getSelectedItems());console.log("Skill Development entries created successfully")}}sap.ui.core.BusyIndicator.hide();i.success("Assessment submitted successfully!",{onClose:()=>{this._resetForm()}})}catch(e){sap.ui.core.BusyIndicator.hide();console.error("Submission error:",e);i.error("Error submitting assessment: "+(e.message||"Unknown error occurred"))}},_createSkillDevelopment:function(e,t,s){return new Promise((n,o)=>{try{const i=s.map(s=>{const n={ea_ID:t,skills:s.getText()};const o="/SkillDevelopment";const i=e.bindList(o);const r=i.create(n);return r.created()});Promise.all(i).then(()=>n()).catch(e=>o(new Error("Failed to create skill development entries: "+e.message)))}catch(e){o(new Error("Error in skill development creation: "+e.message))}})},_createEA:function(e,t){return new Promise(s=>{const n=e.bindList("/EAs");n.create(t);s()})},_getEAIdByEmployeeDetails:function(e,t){return new Promise((s,n)=>{const o=e.bindList("/EAs",null,null,[new sap.ui.model.Filter("empId","EQ",t.empId)]);o.requestContexts().then(e=>{if(e.length>0){const t=e[0].getObject().ID;s(t)}else{n(new Error(`No EA found for Employee ID: ${t.empId}`))}}).catch(e=>{n(new Error("Failed to get EA ID: "+e.message))})})},_createAssignments:function(e,t,s){return new Promise((n,o)=>{try{const i=s.map(s=>{const n={CustomerName:s.customerName,CRMId:s.cRMID,isActive:s.isActiveEngagement,isLead:s.requireShadowing,leadEA:s.shadowEA,comment:s.comment,ea_ID:t};const o=`/EAs(${t})/assignments`;const i=e.bindList(o);const r=i.create(n);return r.created()});Promise.all(i).then(()=>n()).catch(e=>o(new Error("Failed to create assignments: "+e.message)))}catch(e){o(new Error("Error in assignment creation: "+e.message))}})},_createSkills:function(e,t){return new Promise((s,n)=>{try{const o=this.selectedSkills.map(s=>{const n={ea_ID:t,level:s.level,skills:s.skills};const o=`/EAs(${t})/experience`;const i=e.bindList(o);const r=i.create(n);return r.created()});Promise.all(o).then(()=>s()).catch(e=>n(new Error("Failed to create skills: "+e.message)))}catch(e){n(new Error("Error in skill creation: "+e.message))}})},_getTableData:function(){try{const e=this.getView().byId("tableId1");const t=e.getItems();return t.map(e=>{const t=e.getCells();return{customerName:t[0].getValue(),cRMID:t[1].getValue(),isActiveEngagement:t[2].getSelected(),requireShadowing:t[3].getSelected(),shadowEA:t[4].getValue(),comment:t[5].getValue()}}).filter(e=>e.customerName||e.cRMID)}catch(e){console.error("Error in _getTableData:",e);return[]}},_resetForm:function(){try{["employeeIDInput","employeeSurname","employeeRegion","employeeEmailt","employeeCountryt"].forEach(e=>{const t=this.getView().byId(e);if(t){t.setValue("")}});const e=this.getView().byId("tableId1");if(e){e.removeAllItems()}this.selectedSkills=[];const t=this.byId("idIconTabBar");if(t){t.getItems().forEach(e=>{e.getContent().forEach(e=>{if(e instanceof n){e.setSelectedIndex(-1)}})})}}catch(e){console.error("Error in _resetForm:",e);i.error("Error resetting form: "+e.message)}},onAdd:function(e){try{var t=new sap.m.ColumnListItem({cells:[new sap.m.Input,new sap.m.Input,new sap.m.CheckBox,new sap.m.CheckBox,new sap.m.Input,new sap.m.Input]});var s=this.getView().byId("tableId1");s.addItem(t)}catch(e){console.error("Error in onAdd:",e);i.error("Error adding row: "+e.message)}},deleteRow:function(e){try{var t=this.getView().byId("tableId1");t.removeItem(e.getParameter("listItem"))}catch(e){console.error("Error in deleteRow:",e);i.error("Error deleting row: "+e.message)}}})});
},
	"easelfassessment/i18n/i18n.properties":'# This is the resource bundle for easelfassessment\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=EA Self Assessment Form\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n#XTIT: Main view title\ntitle=EA Self Assessment Form',
	"easelfassessment/manifest.json":'{"_version":"1.65.0","sap.app":{"id":"easelfassessment","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:basic","version":"1.15.3","toolsId":"fc348f9a-babb-4b33-bb20-c20bbd347d15"},"dataSources":{"mainService":{"uri":"odata/v4/catalog/","type":"OData","settings":{"annotations":[],"localUri":"localService/metadata.xml","odataVersion":"4.0"}}},"crossNavigation":{"inbounds":{"EASelfAssessmentForm-Manage":{"semanticObject":"EASelfAssessmentForm","action":"Manage","title":"{{flpTitle}}","subTitle":"{{flpSubtitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":false,"dependencies":{"minUI5Version":"1.129.2","libs":{"sap.m":{},"sap.ui.core":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"easelfassessment.i18n.i18n"}},"datamodel":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","async":true,"viewPath":"easelfassessment.view","controlAggregation":"pages","controlId":"app","clearControlAggregation":false},"routes":[{"name":"RouteEASelfAssessmentForm","pattern":":?query:","target":["TargetEASelfAssessmentForm"]}],"targets":{"TargetEASelfAssessmentForm":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"EASelfAssessmentForm","viewName":"EASelfAssessmentForm"}}},"rootView":{"viewName":"easelfassessment.view.App","type":"XML","async":true,"id":"App"}},"sap.cloud":{"public":true,"service":"easelfassessment"}}',
	"easelfassessment/model/models.js":function(){
sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
},
	"easelfassessment/view/App.view.xml":'<mvc:View controllerName="easelfassessment.controller.App"\n    xmlns:html="http://www.w3.org/1999/xhtml"\n    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"\n    xmlns="sap.m"><App id="app"></App></mvc:View>\n',
	"easelfassessment/view/EASelfAssessmentForm.view.xml":'<mvc:View controllerName="easelfassessment.controller.EASelfAssessmentForm"\n    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"\n    xmlns="sap.m"><Page id="page" title="{i18n>title}"><content><VBox width="auto" class="sapUiLargeMargin"><Title text="EA Self Assessment Form Instructions" level="H1" class="sapUiSmallMarginTop"  /><Title text="(version 1.0.5)"/><Text text="** This assessment is not for German colleagues. **" class="sapUiSmallMarginTop"  /><Text text="Please follow the below instructions carefully and submit your self-assessment." class="subheadings sapUiMediumMarginTop"/><Title text="Fill Your Details" level="H2" class="subheadings sapUiMediumMarginTop" /><Label required="true" text="Employee ID" /><Input id="employeeIDInput" required="true" placeholder="Enter text" width="50%" /><Label required="true" text="Firstname Lastname" /><Input id="employeeSurname" required="true" placeholder="Enter text" width="50%" /><Label required="true" text="Region" /><Input required="true" id="employeeRegion" placeholder="Enter text" width="50%" /><Label text="Country" /><Input id="employeeCountryt" placeholder="Enter text" width="50%" /><Label text="Email" /><Input id="employeeEmailt" placeholder="Enter text" width="50%" /><Title text="Fill Your Customer Engagements"  class="subheadings sapUiMediumMarginTop" /><Text text="- Customers that you worked or are currently working on (during your overall professional career, not only at SAP)." /><Text text="- Find the CRM ID from the Cloud Reporting Tool https://reporting.ondemand.com/sap/crp/cdo " /><Text text="- Set ”Active” flag for the active engagement and leave it unchecked for the past." /><Text text="- Set the “Shadowing” flag for the engagement your are acting as a shadow EA and leave it unchecked if otherwise." /><Text text="- Put the name of the “shadowed” EA in the comments field in case of shadowing." /><Text text="- Click on \'+\' button to add a new entry in the table." /><Table id="tableId1" width="100%" mode="Delete" delete="deleteRow"><headerToolbar><Toolbar><Text text="Customer Engagements"/><ToolbarSpacer></ToolbarSpacer><Button icon="sap-icon://add" type="Emphasized" press="onAdd"/></Toolbar></headerToolbar><columns><Column width="50%"><Text text="Customer Name"/></Column><Column width="20%"><Text text="CRM ID"/></Column><Column width="20%"><Text text="Active Engagement"/></Column><Column width="20%"><Text text="Shadowing"/></Column><Column width="40%"><Text text="Shadow EA"/></Column><Column width="50%"><Text text="Comment"/></Column></columns></Table><Title text="Fill Your Skills"  class="subheadings sapUiMediumMarginTop" /><Text text="Skills assessment is based on both TOGAF Skills and SAP Skills." /><Text text="TOGAF Skills" class="subheadings sapUiMediumMarginTop"/><Text text="   - Enterprise Architecture" /><Text text="   - Business" /><Text text="   - Technical IT Skills" /><Text text="   - Program and Project Management Skills" /><Text text="   - Generic" /><Text text="   - Legal Environment" /><Text text="   - General IT Knowledge Skills" /><Text text="SAP Skills" class="subheadings sapUiMediumMarginTop"/><Text text="   - North Star Services" /><Text text="   - LoB Skills" /><Text text="   - Industry Skills" /><Text text="   - SAP Product Skills" /><Title text="Skill Levels"  class="subheadings sapUiMediumMarginTop" /><Text text="Beginner: Level1 - Basic Knowledge" class="sapUiSmallMarginTop" /><Text text="Intermediate: Level2 - Understands the background. Issues and implications sufficiently to be able to understand how to proceed further. Can contribute to the topic but need some guidance in delivery." class="sapUiSmallMarginTop" /><Text text="Expert: Level3 - Extensive and substantial practical experience and applied knowledge on the subject. Confident delivery and leading others." class="sapUiSmallMarginTop" /></VBox><IconTabBar id="idIconTabBar" expanded="true" class="sapUiResponsiveContentPadding"/></content><footer><OverflowToolbar id="otbFooter"><ToolbarSpacer/><Button type="Accept" press="onSubmit" text="Submit"><layoutData><OverflowToolbarLayoutData priority="NeverOverflow" /></layoutData></Button></OverflowToolbar></footer></Page></mvc:View>\n\n\n\n'
});
//# sourceMappingURL=Component-preload.js.map
